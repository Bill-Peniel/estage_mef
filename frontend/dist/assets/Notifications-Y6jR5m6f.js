import{_ as b,c as r,o as l,b as e,i as x,e as _,F as h,j as k,n as c,t as d,f as y,q as u}from"./index-C-Ksv_Lv.js";const P={name:"StagiaireNotifications",setup(){const s=y(1),n=y([{id:1,type:"info",title:"Nouveau message du tuteur",message:"Votre tuteur vous a envoyé un nouveau message.",date:new Date("2024-03-15T10:30:00"),read:!1},{id:2,type:"success",title:"Rapport validé",message:"Votre dernier rapport a été validé par votre tuteur.",date:new Date("2024-03-14T15:45:00"),read:!0},{id:3,type:"warning",title:"Rappel de rapport",message:"N'oubliez pas de soumettre votre rapport hebdomadaire.",date:new Date("2024-03-13T09:15:00"),read:!1}]),t=u(()=>n.value.length),f=u(()=>Math.ceil(t.value/10)),g=u(()=>(s.value-1)*10),a=u(()=>Math.min(g.value+10,t.value));return{notifications:n,currentPage:s,totalNotifications:t,totalPages:f,startIndex:g,endIndex:a,getNotificationTypeClass:i=>{const o={info:"bg-blue-100 text-blue-600",success:"bg-green-100 text-green-600",warning:"bg-yellow-100 text-yellow-600",error:"bg-red-100 text-red-600"};return o[i]||o.info},getNotificationIcon:i=>{const o={info:"fa-info",success:"fa-check",warning:"fa-exclamation",error:"fa-times"};return o[i]||o.info},formatDate:i=>new Date(i).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),markAsRead:i=>{const o=n.value.find(m=>m.id===i);o&&(o.read=!0)},markAllAsRead:()=>{n.value.forEach(i=>{i.read=!0})},deleteNotification:i=>{const o=n.value.findIndex(m=>m.id===i);o!==-1&&n.value.splice(o,1)},previousPage:()=>{s.value>1&&s.value--},nextPage:()=>{s.value<f.value&&s.value++}}}},N={class:"bg-white shadow rounded-lg px-60"},w={class:"px-6 py-4 border-b border-gray-200"},A={class:"flex justify-between items-center"},C={class:"flex space-x-3"},R={class:"divide-y divide-gray-200"},D={class:"flex items-start justify-between"},I={class:"flex items-start space-x-3"},T={class:"flex-shrink-0"},j={class:"mt-1 text-sm text-gray-500"},V={class:"mt-2 text-xs text-gray-400"},S={class:"flex items-center space-x-2"},z=["onClick"],B=["onClick"],F={key:0,class:"p-6 text-center"},M={key:0,class:"px-6 py-4 border-t border-gray-200"},q={class:"flex items-center justify-between"},E={class:"text-sm text-gray-700"},L={class:"flex space-x-2"},G=["disabled"],H=["disabled"];function J(p,s,n,t,f,g){return l(),r("div",N,[e("div",w,[e("div",A,[s[4]||(s[4]=e("h2",{class:"text-xl font-semibold text-gray-800"},"Mes Notifications",-1)),e("div",C,[e("button",{onClick:s[0]||(s[0]=(...a)=>t.markAllAsRead&&t.markAllAsRead(...a)),class:"btn-outline flex items-center"},s[3]||(s[3]=[e("i",{class:"fas fa-check-double mr-2"},null,-1),_(" Tout marquer comme lu ")]))])])]),e("div",R,[(l(!0),r(h,null,k(t.notifications,a=>(l(),r("div",{key:a.id,class:c(["p-6 hover:bg-gray-50 transition-colors duration-200",{"bg-blue-50":!a.read}])},[e("div",D,[e("div",I,[e("div",T,[e("span",{class:c(["inline-flex items-center justify-center h-10 w-10 rounded-full",t.getNotificationTypeClass(a.type)])},[e("i",{class:c(["fas",t.getNotificationIcon(a.type)])},null,2)],2)]),e("div",null,[e("p",{class:c(["text-sm font-medium text-gray-900",{"font-bold":!a.read}])},d(a.title),3),e("p",j,d(a.message),1),e("p",V,d(t.formatDate(a.date)),1)])]),e("div",S,[a.read?x("",!0):(l(),r("button",{key:0,onClick:v=>t.markAsRead(a.id),class:"text-primary hover:text-primary-dark"},s[5]||(s[5]=[e("i",{class:"fas fa-check"},null,-1)]),8,z)),e("button",{onClick:v=>t.deleteNotification(a.id),class:"text-gray-400 hover:text-red-600"},s[6]||(s[6]=[e("i",{class:"fas fa-trash"},null,-1)]),8,B)])])],2))),128)),t.notifications.length===0?(l(),r("div",F,s[7]||(s[7]=[e("span",{class:"inline-flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 mb-4"},[e("i",{class:"fas fa-bell text-gray-400 text-xl"})],-1),e("h3",{class:"text-sm font-medium text-gray-900"},"Aucune notification",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Vous n'avez pas de nouvelles notifications.",-1)]))):x("",!0)]),t.notifications.length>0?(l(),r("div",M,[e("div",q,[e("div",E," Affichage de "+d(t.startIndex+1)+" à "+d(t.endIndex)+" sur "+d(t.totalNotifications)+" notifications ",1),e("div",L,[e("button",{onClick:s[1]||(s[1]=(...a)=>t.previousPage&&t.previousPage(...a)),disabled:t.currentPage===1,class:"btn-outline py-1 px-3 disabled:opacity-50"}," Précédent ",8,G),e("button",{onClick:s[2]||(s[2]=(...a)=>t.nextPage&&t.nextPage(...a)),disabled:t.currentPage===t.totalPages,class:"btn-outline py-1 px-3 disabled:opacity-50"}," Suivant ",8,H)])])])):x("",!0)])}const $=b(P,[["render",J]]);export{$ as default};
