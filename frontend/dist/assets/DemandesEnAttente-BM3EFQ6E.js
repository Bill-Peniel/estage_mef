import{_ as h,c as r,o,b as e,h as f,i as u,v as w,e as c,F as y,j as k,t as a,n as g}from"./index-C-Ksv_Lv.js";const v={name:"DemandesEnAttente",data(){return{search:"",sortKey:"",sortDesc:!1,demandes:[{stagiaire:"Jean Dupont",structure:"Direction des Impôts",date:"23/02/2024",status:"En attente"},{stagiaire:"Marie Martin",structure:"Service Informatique",date:"22/02/2024",status:"En attente"}]}},computed:{filteredAndSortedDemandes(){let l=this.demandes.filter(t=>{const d=this.search.toLowerCase();return t.stagiaire.toLowerCase().includes(d)||t.structure.toLowerCase().includes(d)||t.date.toLowerCase().includes(d)||t.status&&t.status.toLowerCase().includes(d)});return this.sortKey&&(l=l.slice().sort((t,d)=>{let p=t[this.sortKey],n=d[this.sortKey];if(this.sortKey==="date"){const i=s=>s.split("/").reverse().join("-");p=i(p),n=i(n)}return p<n?this.sortDesc?1:-1:p>n?this.sortDesc?-1:1:0})),l}},methods:{getStatusClass(l){return{"En attente":"bg-yellow-100 text-yellow-800",Validé:"bg-green-100 text-green-800",Refusé:"bg-red-100 text-red-800"}[l]||"bg-gray-100 text-gray-600"},sortBy(l){this.sortKey===l?this.sortDesc=!this.sortDesc:(this.sortKey=l,this.sortDesc=!1)}}},m={class:"p-4 sm:p-6 relative top-10 md:top-16 lg:top-16"},b={class:"mb-4 flex items-center gap-2"},C={class:"hidden md:block bg-white rounded-lg shadow-lg p-4 sm:p-6"},D={class:"overflow-x-auto"},_={class:"min-w-full divide-y divide-gray-200"},B={key:0},M={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},j={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},S={key:0},K={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},V={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},A={key:0},E={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},L={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},z={key:0},I={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},N={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},q={class:"bg-white divide-y divide-gray-200"},F={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"},R={class:"px-6 py-4 whitespace-nowrap text-gray-700"},T={class:"px-6 py-4 whitespace-nowrap text-gray-700"},H={class:"px-6 py-4 whitespace-nowrap"},J={key:0},U={class:"md:hidden space-y-4"},G={class:"flex items-center justify-between"},O={class:"font-semibold text-gray-900"},P={class:"flex items-center text-gray-700 text-sm"},Q={class:"flex items-center text-gray-500 text-xs"},W={key:0,class:"text-center text-gray-400 py-8"};function X(l,t,d,p,n,i){return o(),r("div",m,[t[22]||(t[22]=e("h1",{class:"text-2xl font-bold mb-6 text-primary"},"Demandes en attente",-1)),e("div",b,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.search=s),type:"text",placeholder:"Rechercher un stagiaire, une structure, une date, un statut...",class:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition"},null,512),[[w,n.search]]),n.search?(o(),r("button",{key:0,onClick:t[1]||(t[1]=s=>n.search=""),class:"ml-2 text-gray-400 hover:text-primary transition",title:"Effacer"},t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))):u("",!0)]),e("div",C,[e("div",D,[e("table",_,[e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[2]||(t[2]=s=>i.sortBy("stagiaire"))},[t[9]||(t[9]=c(" Stagiaire ")),n.sortKey==="stagiaire"?(o(),r("span",B,[n.sortDesc?(o(),r("svg",j,t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",M,t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[3]||(t[3]=s=>i.sortBy("structure"))},[t[12]||(t[12]=c(" Structure ")),n.sortKey==="structure"?(o(),r("span",S,[n.sortDesc?(o(),r("svg",V,t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",K,t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[4]||(t[4]=s=>i.sortBy("date"))},[t[15]||(t[15]=c(" Date de demande ")),n.sortKey==="date"?(o(),r("span",A,[n.sortDesc?(o(),r("svg",L,t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",E,t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[5]||(t[5]=s=>i.sortBy("status"))},[t[18]||(t[18]=c(" Statut ")),n.sortKey==="status"?(o(),r("span",z,[n.sortDesc?(o(),r("svg",N,t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",I,t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)])])]),e("tbody",q,[(o(!0),r(y,null,k(i.filteredAndSortedDemandes,(s,x)=>(o(),r("tr",{key:x,class:"hover:bg-gray-50 transition"},[e("td",F,a(s.stagiaire),1),e("td",R,a(s.structure),1),e("td",T,a(s.date),1),e("td",H,[e("span",{class:g(["px-2 py-1 text-xs rounded-full font-semibold",i.getStatusClass(s.status)])},a(s.status),3)])]))),128)),i.filteredAndSortedDemandes.length?u("",!0):(o(),r("tr",J,t[19]||(t[19]=[e("td",{colspan:"4",class:"text-center text-gray-400 py-8"},"Aucune demande en attente",-1)])))])])])]),e("div",U,[(o(!0),r(y,null,k(i.filteredAndSortedDemandes,(s,x)=>(o(),r("div",{key:x,class:"bg-white rounded-lg shadow p-4 flex flex-col gap-2"},[e("div",G,[e("span",O,a(s.stagiaire),1),e("span",{class:g(["px-2 py-1 text-xs rounded-full font-semibold",i.getStatusClass(s.status)])},a(s.status),3)]),e("div",P,[t[20]||(t[20]=e("svg",{class:"w-4 h-4 mr-1 text-primary",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 7a4 4 0 01-8 0M12 15v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,a(s.structure),1)]),e("div",Q,[t[21]||(t[21]=e("svg",{class:"w-4 h-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,a(s.date),1)])]))),128)),i.filteredAndSortedDemandes.length?u("",!0):(o(),r("div",W,"Aucune demande en attente"))])])}const Z=h(v,[["render",X],["__scopeId","data-v-0e99896b"]]);export{Z as default};
