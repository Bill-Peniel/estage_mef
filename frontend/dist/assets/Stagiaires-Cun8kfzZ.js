import{_ as y,c as n,o as l,b as t,F as g,j as f,n as h,t as i,f as d,q as v,g as _,G as b,H as w}from"./index-C-Ksv_Lv.js";const k={name:"Stagiaires",setup(){const u=w(),a=d("tous"),c=d(!1),s=d([]),p=[{label:"Tous",value:"tous"},{label:"Nouveau",value:"nouveau"},{label:"En cours",value:"en_cours"},{label:"Fini",value:"fini"}],x=async()=>{try{c.value=!0,console.log("Récupération des stagiaires...");const r=await b.get("/tuteurs/assigned-interns");console.log("Réponse de l'API:",r.data),s.value=r.data.data.map(o=>({id:o.id,nom:o.name,email:o.email,telephone:o.telephone,status:o.status||"En attente",department:o.department,startDate:o.startDate,endDate:o.endDate})),console.log("Stagiaires transformés:",s.value)}catch(r){console.error("Erreur lors de la récupération des stagiaires:",r),u.error("Erreur lors de la récupération des stagiaires")}finally{c.value=!1}},e=v(()=>a.value==="tous"?s.value:s.value.filter(r=>r.status===a.value)),m=r=>({nouveau:"bg-yellow-100 text-yellow-800","en cours":"bg-blue-100 text-blue-800",finit:"bg-green-100 text-green-800"})[r]||"bg-gray-100 text-gray-800";return _(x),{currentFilter:a,statusFilters:p,stagiaires:s,filteredStagiaires:e,getStatusClass:m,loading:c}}},S={class:"p-6"},F={class:"mb-6 flex justify-between items-center"},E={class:"flex gap-2"},C=["onClick"],D={class:"bg-white rounded-lg shadow"},N={class:"p-6"},B={class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},A={class:"bg-white divide-y divide-gray-200"},M={class:"px-6 py-4 whitespace-nowrap"},R={class:"flex items-center"},T={class:"h-10 w-10 flex-shrink-0"},q=["src"],z={class:"ml-4"},G={class:"text-sm font-medium text-gray-900"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},I={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},L={class:"px-6 py-4 whitespace-nowrap"};function P(u,a,c,s,p,x){return l(),n("div",S,[t("div",F,[a[0]||(a[0]=t("h1",{class:"text-2xl font-bold text-gray-800"},"Mes Stagiaires",-1)),t("div",E,[(l(!0),n(g,null,f(s.statusFilters,e=>(l(),n("button",{key:e.value,onClick:m=>s.currentFilter=e.value,class:h(["px-4 py-2 rounded-lg text-sm font-medium",s.currentFilter===e.value?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},i(e.label),11,C))),128))])]),t("div",D,[t("div",N,[t("div",B,[t("table",j,[a[2]||(a[2]=t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nom"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Email"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Téléphone"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",A,[(l(!0),n(g,null,f(s.filteredStagiaires,e=>(l(),n("tr",{key:e.id,class:"hover:bg-gray-50"},[t("td",M,[t("div",R,[t("div",T,[t("img",{class:"h-10 w-10 rounded-full",src:`https://ui-avatars.com/api/?name=${e.nom}&background=random`,alt:""},null,8,q)]),t("div",z,[t("div",G,i(e.nom),1)])])]),t("td",H,i(e.email),1),t("td",I,i(e.telephone),1),t("td",L,[t("span",{class:h([s.getStatusClass(e.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},i(e.status),3)]),a[1]||(a[1]=t("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},[t("button",{class:"text-primary hover:text-primary-dark mr-3"},[t("i",{class:"fas fa-eye"})]),t("button",{class:"text-blue-600 hover:text-blue-800 mr-3"},[t("i",{class:"fas fa-edit"})]),t("button",{class:"text-red-600 hover:text-red-800"},[t("i",{class:"fas fa-trash"})])],-1))]))),128))])])])])])])}const $=y(k,[["render",P]]);export{$ as default};
