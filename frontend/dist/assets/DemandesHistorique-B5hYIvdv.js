import{_ as h,c as i,o,b as t,h as b,a as k,v as m,i as d,e as u,F as x,j as c,t as a,n as f}from"./index-C-Ksv_Lv.js";const v={name:"DemandesHistorique",data(){return{search:"",sortKey:"",sortDesc:!1,page:1,pageSize:10,historique:[{reference:"STG-2023-001",stagiaire:"Lucas Bernard",structure:"Direction des Impôts",periode:"Jan - Mar 2023",statut:"Terminé"},{reference:"STG-2023-002",stagiaire:"Emma Petit",structure:"Service Informatique",periode:"Avr - Juin 2023",statut:"Terminé"}]}},computed:{filteredHistorique(){const l=this.search.toLowerCase();return this.historique.filter(e=>e.reference.toLowerCase().includes(l)||e.stagiaire.toLowerCase().includes(l)||e.structure.toLowerCase().includes(l)||e.periode.toLowerCase().includes(l)||e.statut&&e.statut.toLowerCase().includes(l))},sortedHistorique(){let l=this.filteredHistorique;return this.sortKey&&(l=l.slice().sort((e,y)=>{let p=e[this.sortKey],n=y[this.sortKey];return p<n?this.sortDesc?1:-1:p>n?this.sortDesc?-1:1:0})),l},paginatedHistorique(){const l=(this.page-1)*this.pageSize;return this.sortedHistorique.slice(l,l+this.pageSize)},totalPages(){return Math.ceil(this.sortedHistorique.length/this.pageSize)||1}},watch:{search(){this.page=1},sortKey(){this.page=1}},methods:{getStatusClass(l){return{Terminé:"bg-green-100 text-green-800",Annulé:"bg-red-100 text-red-800",Interrompu:"bg-yellow-100 text-yellow-800"}[l]||"bg-gray-100 text-gray-600"},sortBy(l){this.sortKey===l?this.sortDesc=!this.sortDesc:(this.sortKey=l,this.sortDesc=!1)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}}},w={class:"p-4 sm:p-6 relative top-10 md:top-16 lg:top-16"},C={class:"mb-4 flex flex-col md:flex-row md:items-center gap-2 md:gap-4"},_={class:"hidden md:block bg-white rounded-lg shadow-lg p-4 sm:p-6"},P={class:"overflow-x-auto"},B={class:"min-w-full divide-y divide-gray-200"},q={key:0},D={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},j={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},S={key:0},H={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},M={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},K={key:0},V={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},L={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},T={key:0},z={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},A={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},I={key:0},N={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},E={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},F={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap font-medium"},J={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap"},U={class:"px-6 py-4 whitespace-nowrap"},O={class:"px-6 py-4 whitespace-nowrap"},Q={key:0},W={key:0,class:"flex justify-end mt-4"},X=["disabled"],Y={class:"px-4 py-1 bg-gray-50 border-t border-b border-gray-300 text-gray-700"},Z=["disabled"],$={class:"md:hidden space-y-4"},ee={class:"flex items-center justify-between mb-1"},te={class:"font-semibold text-gray-900"},se={class:"flex items-center text-gray-700 text-sm mb-1"},re={class:"flex items-center text-gray-700 text-sm mb-1"},ie={class:"flex items-center text-gray-500 text-xs mb-1"},oe={key:0,class:"text-center text-gray-400 py-8"},ne={key:1,class:"flex justify-end mt-4"},le=["disabled"],ae={class:"px-4 py-1 bg-gray-50 border-t border-b border-gray-300 text-gray-700"},de=["disabled"];function ue(l,e,y,p,n,r){return o(),i("div",w,[e[33]||(e[33]=t("h1",{class:"text-2xl font-bold mb-6 text-primary"},"Historique des stages",-1)),t("div",C,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.search=s),type:"text",placeholder:"Rechercher une référence, un stagiaire, une structure, une période, un statut...",class:"input-field w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition"},null,512),[[m,n.search]]),e[10]||(e[10]=k('<div class="flex gap-2" data-v-a1a21e30><button class="btn-outline flex items-center gap-2" data-v-a1a21e30><i class="fas fa-filter" data-v-a1a21e30></i>Filtrer </button><button class="btn-outline flex items-center gap-2" data-v-a1a21e30><i class="fas fa-download" data-v-a1a21e30></i>Exporter </button></div>',1))]),t("div",_,[t("div",P,[t("table",B,[t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:e[1]||(e[1]=s=>r.sortBy("reference"))},[e[13]||(e[13]=u(" Référence ")),n.sortKey==="reference"?(o(),i("span",q,[n.sortDesc?(o(),i("svg",j,e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),i("svg",D,e[11]||(e[11]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):d("",!0)]),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:e[2]||(e[2]=s=>r.sortBy("stagiaire"))},[e[16]||(e[16]=u(" Stagiaire ")),n.sortKey==="stagiaire"?(o(),i("span",S,[n.sortDesc?(o(),i("svg",M,e[15]||(e[15]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),i("svg",H,e[14]||(e[14]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):d("",!0)]),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:e[3]||(e[3]=s=>r.sortBy("structure"))},[e[19]||(e[19]=u(" Structure ")),n.sortKey==="structure"?(o(),i("span",K,[n.sortDesc?(o(),i("svg",L,e[18]||(e[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),i("svg",V,e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):d("",!0)]),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:e[4]||(e[4]=s=>r.sortBy("periode"))},[e[22]||(e[22]=u(" Période ")),n.sortKey==="periode"?(o(),i("span",T,[n.sortDesc?(o(),i("svg",A,e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),i("svg",z,e[20]||(e[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):d("",!0)]),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:e[5]||(e[5]=s=>r.sortBy("statut"))},[e[25]||(e[25]=u(" Statut ")),n.sortKey==="statut"?(o(),i("span",I,[n.sortDesc?(o(),i("svg",E,e[24]||(e[24]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),i("svg",N,e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):d("",!0)]),e[26]||(e[26]=t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",F,[(o(!0),i(x,null,c(r.paginatedHistorique,(s,g)=>(o(),i("tr",{key:g,class:"hover:bg-gray-50 transition"},[t("td",G,a(s.reference),1),t("td",J,a(s.stagiaire),1),t("td",R,a(s.structure),1),t("td",U,a(s.periode),1),t("td",O,[t("span",{class:f(["px-2 py-1 text-xs rounded-full font-semibold",r.getStatusClass(s.statut)])},a(s.statut),3)]),e[27]||(e[27]=t("td",{class:"px-6 py-4 whitespace-nowrap"},[t("button",{class:"text-primary hover:text-primary-dark transition",title:"Voir le détail"},[t("i",{class:"fas fa-file-alt"})])],-1))]))),128)),r.paginatedHistorique.length?d("",!0):(o(),i("tr",Q,e[28]||(e[28]=[t("td",{colspan:"6",class:"text-center text-gray-400 py-8"},"Aucun stage trouvé",-1)])))])])]),r.totalPages>1?(o(),i("div",W,[t("button",{onClick:e[6]||(e[6]=(...s)=>r.prevPage&&r.prevPage(...s)),disabled:n.page===1,class:"px-3 py-1 rounded-l bg-gray-100 border border-gray-300 text-gray-600 hover:bg-primary hover:text-white transition disabled:opacity-50"},"<",8,X),t("span",Y,"Page "+a(n.page)+" / "+a(r.totalPages),1),t("button",{onClick:e[7]||(e[7]=(...s)=>r.nextPage&&r.nextPage(...s)),disabled:n.page===r.totalPages,class:"px-3 py-1 rounded-r bg-gray-100 border border-gray-300 text-gray-600 hover:bg-primary hover:text-white transition disabled:opacity-50"},">",8,Z)])):d("",!0)]),t("div",$,[(o(!0),i(x,null,c(r.paginatedHistorique,(s,g)=>(o(),i("div",{key:g,class:"bg-white rounded-lg shadow p-4 flex flex-col gap-2"},[t("div",ee,[t("span",te,a(s.stagiaire),1),t("span",{class:f(["px-2 py-1 text-xs rounded-full font-semibold",r.getStatusClass(s.statut)])},a(s.statut),3)]),t("div",se,[e[29]||(e[29]=t("i",{class:"fas fa-hashtag mr-1 text-primary"},null,-1)),t("span",null,a(s.reference),1)]),t("div",re,[e[30]||(e[30]=t("i",{class:"fas fa-building mr-1 text-primary"},null,-1)),t("span",null,a(s.structure),1)]),t("div",ie,[e[31]||(e[31]=t("i",{class:"fas fa-calendar-alt mr-1 text-gray-400"},null,-1)),t("span",null,a(s.periode),1)]),e[32]||(e[32]=t("div",{class:"flex items-center justify-end"},[t("button",{class:"text-primary hover:text-primary-dark transition",title:"Voir le détail"},[t("i",{class:"fas fa-file-alt"})])],-1))]))),128)),r.paginatedHistorique.length?d("",!0):(o(),i("div",oe,"Aucun stage trouvé")),r.totalPages>1?(o(),i("div",ne,[t("button",{onClick:e[8]||(e[8]=(...s)=>r.prevPage&&r.prevPage(...s)),disabled:n.page===1,class:"px-3 py-1 rounded-l bg-gray-100 border border-gray-300 text-gray-600 hover:bg-primary hover:text-white transition disabled:opacity-50"},"<",8,le),t("span",ae,"Page "+a(n.page)+" / "+a(r.totalPages),1),t("button",{onClick:e[9]||(e[9]=(...s)=>r.nextPage&&r.nextPage(...s)),disabled:n.page===r.totalPages,class:"px-3 py-1 rounded-r bg-gray-100 border border-gray-300 text-gray-600 hover:bg-primary hover:text-white transition disabled:opacity-50"},">",8,de)])):d("",!0)])])}const ge=h(v,[["render",ue],["__scopeId","data-v-a1a21e30"]]);export{ge as default};
