import{_ as k,c as r,o,b as e,h as f,i as u,v as w,e as c,F as x,j as h,t as i,k as g}from"./index-C-Ksv_Lv.js";const m={name:"DemandesEnCours",data(){return{search:"",sortKey:"",sortDesc:!1,stages:[{stagiaire:"Paul Dubois",structure:"Direction des Impôts",dateDebut:"01/02/2024",dateFin:"01/05/2024",progression:45},{stagiaire:"Sophie Martin",structure:"Service Informatique",dateDebut:"15/01/2024",dateFin:"15/04/2024",progression:70}]}},computed:{filteredAndSortedStages(){let d=this.stages.filter(t=>{const a=this.search.toLowerCase();return t.stagiaire.toLowerCase().includes(a)||t.structure.toLowerCase().includes(a)||t.dateDebut.toLowerCase().includes(a)||t.dateFin.toLowerCase().includes(a)});return this.sortKey&&(d=d.slice().sort((t,a)=>{let p=t[this.sortKey],n=a[this.sortKey];return this.sortKey==="progression"&&(p=Number(p),n=Number(n)),p<n?this.sortDesc?1:-1:p>n?this.sortDesc?-1:1:0})),d}},methods:{sortBy(d){this.sortKey===d?this.sortDesc=!this.sortDesc:(this.sortKey=d,this.sortDesc=!1)}}},v={class:"p-4 sm:p-6 top-10 md:top-16 lg:top-16 relative"},b={class:"mb-4 flex items-center gap-2"},_={class:"hidden md:block bg-white rounded-lg shadow-lg p-4 sm:p-6"},D={class:"overflow-x-auto"},C={class:"min-w-full divide-y divide-gray-200"},B={key:0},S={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},M={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},j={key:0},K={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},F={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},V={key:0},A={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},L={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},N={key:0},E={key:0,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},I={key:1,class:"inline w-3 h-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},q={class:"bg-white divide-y divide-gray-200"},z={class:"px-6 py-4 whitespace-nowrap font-medium text-gray-900"},P={class:"px-6 py-4 whitespace-nowrap text-gray-700"},T={class:"px-6 py-4 whitespace-nowrap text-gray-700"},H={class:"px-6 py-4 whitespace-nowrap text-gray-700"},R={class:"px-6 py-4 whitespace-nowrap"},U={class:"w-full bg-gray-200 rounded-full h-2"},G={class:"text-xs text-gray-600 mt-1 block"},J={key:0},O={class:"md:hidden space-y-4"},Q={class:"flex items-center justify-between mb-1"},W={class:"font-semibold text-gray-900"},X={class:"text-xs text-gray-500"},Y={class:"flex items-center text-gray-700 text-sm mb-1"},Z={class:"flex items-center gap-2"},$={class:"flex-1 bg-gray-200 rounded-full h-2"},tt={class:"text-xs text-gray-600"},et={key:0,class:"text-center text-gray-400 py-8"};function st(d,t,a,p,n,l){return o(),r("div",v,[t[22]||(t[22]=e("h1",{class:"text-2xl font-bold mb-6 text-primary"},"Stages en cours",-1)),e("div",b,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.search=s),type:"text",placeholder:"Rechercher un stagiaire, une structure, une date...",class:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition"},null,512),[[w,n.search]]),n.search?(o(),r("button",{key:0,onClick:t[1]||(t[1]=s=>n.search=""),class:"ml-2 text-gray-400 hover:text-primary transition",title:"Effacer"},t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))):u("",!0)]),e("div",_,[e("div",D,[e("table",C,[e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[2]||(t[2]=s=>l.sortBy("stagiaire"))},[t[9]||(t[9]=c(" Stagiaire ")),n.sortKey==="stagiaire"?(o(),r("span",B,[n.sortDesc?(o(),r("svg",M,t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",S,t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[3]||(t[3]=s=>l.sortBy("structure"))},[t[12]||(t[12]=c(" Structure ")),n.sortKey==="structure"?(o(),r("span",j,[n.sortDesc?(o(),r("svg",F,t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",K,t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[4]||(t[4]=s=>l.sortBy("dateDebut"))},[t[15]||(t[15]=c(" Date de début ")),n.sortKey==="dateDebut"?(o(),r("span",V,[n.sortDesc?(o(),r("svg",L,t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",A,t[13]||(t[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:t[5]||(t[5]=s=>l.sortBy("dateFin"))},[t[18]||(t[18]=c(" Date de fin ")),n.sortKey==="dateFin"?(o(),r("span",N,[n.sortDesc?(o(),r("svg",I,t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1)]))):(o(),r("svg",E,t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 15l7-7 7 7"},null,-1)])))])):u("",!0)]),t[19]||(t[19]=e("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Progression",-1))])]),e("tbody",q,[(o(!0),r(x,null,h(l.filteredAndSortedStages,(s,y)=>(o(),r("tr",{key:y,class:"hover:bg-gray-50 transition"},[e("td",z,i(s.stagiaire),1),e("td",P,i(s.structure),1),e("td",T,i(s.dateDebut),1),e("td",H,i(s.dateFin),1),e("td",R,[e("div",U,[e("div",{class:"bg-primary h-2 rounded-full transition-all duration-500",style:g({width:s.progression+"%"})},null,4)]),e("span",G,i(s.progression)+"%",1)])]))),128)),l.filteredAndSortedStages.length?u("",!0):(o(),r("tr",J,t[20]||(t[20]=[e("td",{colspan:"5",class:"text-center text-gray-400 py-8"},"Aucun stage en cours",-1)])))])])])]),e("div",O,[(o(!0),r(x,null,h(l.filteredAndSortedStages,(s,y)=>(o(),r("div",{key:y,class:"bg-white rounded-lg shadow p-4 flex flex-col gap-2"},[e("div",Q,[e("span",W,i(s.stagiaire),1),e("span",X,i(s.structure),1)]),e("div",Y,[t[21]||(t[21]=e("svg",{class:"w-4 h-4 mr-1 text-primary",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",null,i(s.dateDebut)+" → "+i(s.dateFin),1)]),e("div",Z,[e("div",$,[e("div",{class:"bg-primary h-2 rounded-full transition-all duration-500",style:g({width:s.progression+"%"})},null,4)]),e("span",tt,i(s.progression)+"%",1)])]))),128)),l.filteredAndSortedStages.length?u("",!0):(o(),r("div",et,"Aucun stage en cours"))])])}const ot=k(m,[["render",st],["__scopeId","data-v-64a9b810"]]);export{ot as default};
